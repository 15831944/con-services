#FROM microsoft/dotnet:nanoserver
#FROM microsoft/nanoserver
FROM microsoft/windowsservercore:latest

# Set the Working Directory
WORKDIR /app

# Configure the listening port to 80
ENV ASPNETCORE_URLS http://*:5001
EXPOSE 5001

# Copy the app
COPY . /app
SHELL ["powershell", "-Command", "$ErrorActionPreference = 'Stop';"]
RUN set-itemproperty -path 'HKLM:\SYSTEM\CurrentControlSet\Services\Dnscache\Parameters' -Name ServerPriorityTimeLimit -Value 0 -Type DWord

# Create the mount point to hold volume from host for logs
#VOLUME logs

# Start the app
ENTRYPOINT .\\MockProjectWebApi.exe
