//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated from a template.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Collections.Specialized;

namespace VSS.Hosted.VLCommon
{
  public partial class CustomerStore
  {
    #region Primitive Properties

    public virtual long ID
    {
      get;
      set;
    }

    public virtual long fk_CustomerID
    {
      get { return _fk_CustomerID; }
      set
      {
        if (_fk_CustomerID != value)
        {
          if (Customer != null && Customer.ID != value)
          {
            Customer = null;
          }
          _fk_CustomerID = value;
        }
      }
    }
    private long _fk_CustomerID;

    public virtual long fk_StoreID
    {
      get { return _fk_StoreID; }
      set { _fk_StoreID = value; }
    }
    private long _fk_StoreID = 1;

    public virtual System.DateTime UpdateUTC
    {
      get { return _updateUTC; }
      set { _updateUTC = value; }
    }
    private System.DateTime _updateUTC = DateTime.UtcNow;

    #endregion

    #region Navigation Properties

    public virtual Customer Customer
    {
      get { return _customer; }
      set
      {
        if (!ReferenceEquals(_customer, value))
        {
          var previousValue = _customer;
          _customer = value;
          FixupCustomer(previousValue);
        }
      }
    }
    private Customer _customer;

    #endregion

    #region Association Fixup

    private void FixupCustomer(Customer previousValue)
    {
      if (previousValue != null && previousValue.CustomerStore.Contains(this))
      {
        previousValue.CustomerStore.Remove(this);
      }

      if (Customer != null)
      {
        if (!Customer.CustomerStore.Contains(this))
        {
          Customer.CustomerStore.Add(this);
        }
        if (fk_CustomerID != Customer.ID)
        {
          fk_CustomerID = Customer.ID;
        }
      }
    }

    #endregion

  }
}
