ARG FROM_IMAGE
FROM ${FROM_IMAGE}

ARG SERVICE_PATH
WORKDIR /build

# The test results and coverage files can be copied from the container using 'docker cp'.
RUN dotnet test $SERVICE_PATH/Common.sln /p:CollectCoverage=true /p:CoverletOutputFormat=cobertura /p:CoverletOutput=UnitTestResults/ --logger xunit --results-directory ${SERVICE_PATH}/UnitTestResults -nowarn:NU1701
