using System;
using Microsoft.AspNetCore.Mvc;
using Microsoft.Extensions.Logging;
using VSS.ConfigurationStore;
using VSS.MasterData.Models.Handlers;
using VSS.Productivity3D.Models.Models.Coords;
using VSS.Productivity3D.Models.ResultHandling.Coords;
using VSS.TRex.Gateway.Common.Executors;

namespace VSS.TRex.Mutable.Gateway.WebApi.Controllers
{
  /// <summary>
  /// Controller for adding/getting coordinate system definition data to/forom a site model/project
  /// and performing coordinates conversion. 
  /// </summary>
  public class CoordinateSystemController : BaseController
  {
    /// <summary>
    /// Default constructor.
    /// </summary>
    /// <param name="loggerFactory"></param>
    /// <param name="serviceExceptionHandler"></param>
    /// <param name="configStore"></param>
    public CoordinateSystemController(ILoggerFactory loggerFactory, IServiceExceptionHandler serviceExceptionHandler, IConfigurationStore configStore)
      : base(loggerFactory, loggerFactory.CreateLogger<CoordinateSystemController>(), serviceExceptionHandler, configStore)
    {
    }

    /// <summary>
    /// Posts a coordinate system (CS) definition file to a Raptor's data model/project.
    /// </summary>
    [Route("api/v1/coordsystem")]
    [HttpPost]
    //public CoordinateSystemSettings PostCoordinateSystem([FromBody] CoordinateSystemFile request)
    public CoordinateSystemSettings PostCoordinateSystem()
    {
      Log.LogInformation($"{nameof(PostCoordinateSystem)}: {Request.QueryString}");

      const string DIMENSIONS_2012_DC_CSIB = "MDBUTVNDIFYxMC03MCAgICAgICAwICAgMTAvMjQvMjAxNCAxMToxOTExMzExMQ0KMTBUTU1hcnlsYW5kcyBNSDUtSW4xMjIyMTINCjc4VE0xMQ0KRDVUTSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMC4wMDAwMDAwMDAwMDAwMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KRDhUTSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQo2NFRNMy00My41OTA1NTU1NTU1NTYxNzIuNzI2OTQ0NDQ0NDQwMC4wMDAwMDAwMDAwMDAwMDgwMDAwMC4wMDAwMDAwMDA0MDAwMDAuMDAwMDAwMDAwMC4wMDAwMDAwMDAwMDAwMDEuMDAwMDAwMDAwMDAwMDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KNjVUTTYzNzgxMzcuMDAwMDAwMDAyOTguMjU3MjIxNTM4MTUwDQo0OVRNMzYzNzgxMzcuMDAwMDAwMDAyOTguMjU3MjIzNTYzMDAwMC4wMDAwMDAwMDAwMDAwMDAuMDAwMDAwMDAwMDAwMDAwLjAwMDAwMDAwMDAwMDAwMC4wMDAwMDAwMDAwMDAwMDAuMDAwMDAwMDAwMDAwMDAwLjAwMDAwMDAwMDAwMDAwMC4wMDAwMDAwMDAwMDAwMA0KNTBUTTgwMzkzNy4zMzQzMzEyOTAzODY5MTYuOTI3ODY0OTcwLTAuMDA3NjI1NDA2NzE4NjAuMDAwMTkzODU2MTcyNTAwLjAwMDE4MDYzODQ0NzcwMS4wMDAwMDI3MzE4MzAyMA0KODFUTTE4MDMwMjYuNDE3NzA4NTAwMzg2MDE4Ljk5MTMyODk0MC0xMS44NTcyNDEwODUyNzUtMC4wMDAwMTUzNjU5MTM2LTAuMDAwMDAwODk4NDQ0OSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQpDOFRNNFByb2plY3Rpb24gZnJvbSBkYXRhIGNvbGxlY3RvciAgWm9uZSBmcm9tIGRhdGEgY29sbGVjdG9yICAgICAgICAoV0dTIDg0KSAgICAgICAgICAgICAgICAgICAgICAgIA0KNjlUTUdBVEUyICAgICAgICAgICA4MDUwNzkuMjMwMTg1MDAwMzg4NDQ5LjY2MDAyMjAwMDE2LjgzNzczOTAwMDAwMDAgICAgICAgICAgICAgICAgMTENCjY5VE1HQVRFMSAgICAgICAgICAgODA1MDc1LjIwNzk2NTAwMDM4ODQ1Mi45MTE1NjQwMDAxNi43MDgyODYwMDAwMDAwICAgICAgICAgICAgICAgIDExDQo2OVRNRkVOQ0UgICAgICAgICAgIDgwNTEwOC4wMzc4NjMwMDAzODg0MjYuMTM1NDA3MDAwMTYuNjIxNjAxMDAwMDAwMCAgICAgICAgICAgICAgICAxMQ0KNjlUTUZFTkNGICAgICAgICAgICA4MDUwNzAuMDg3MTAzMDAwMzg4Mzc5LjU5MTY4MDAwMDE1LjkxNTA4NDAwMDAwMDAgICAgICAgICAgICAgICAgMTENCjY5VE1GRU5DRyAgICAgICAgICAgODA1MTEzLjY0MjIyNTAwMDM4ODM0NC40NDU1MDYwMDAxNS45MDg2NDEwMDAwMDAwICAgICAgICAgICAgICAgIDExDQo2OVRNRkVOQ0UgMTcgICAgICAgIDgwNDk4NC40NjUwMjUwMDAzODg1MjYuODMxNjM3MDAwMTUuNzc1NjA3MDAwMDAwMCAgICAgICAgICAgICAgICAxMQ0KNjlUTVBJUEUgUk9BRCAgICAgICA4MDUwNTguNjQ3Nzg2MDAwMzg4NDQzLjcwNjQxNzAwMDE2LjM1MDI1MTAwMDAwMDAgICAgICAgICAgICAgICAgMTENCjY5VE1FQVNUIFBJTExBUiAgICAgODA1MDMwLjYzNDEwODAwMDM4ODQ1Ny4yMTM5MzIwMDAxNy4zOTQ0NjcwMDAwMDAwICAgICAgICAgICAgICAgIDExDQo2OVRNRkVOQ0UgMTYgICAgICAgIDgwNDk4MC43NDM0ODYwMDAzODg1MjEuNzU0NzY0MDAwMTUuNzk1MDI0MDAwMDAwMCAgICAgICAgICAgICAgICAxMQ0KNjlUTUZFTkNFIDE1ICAgICAgICA4MDQ5MzguNzkxNjM1MDAwMzg4NDM5LjQwOTU0MTAwMDE1LjI1NTI3NDAwMDAwMDAgICAgICAgICAgICAgICAgMTENCjY5VE1QSUxMQVIgTk9SVEggICAgODA1MDUxLjY1MTMwNDAwMDM4ODM3Mi44MDU2ODYwMDAxNy4xNTYzMTYwMDAwMDAwICAgICAgICAgICAgICAgIDExDQo2OVRNQ09NUE9ORDUgICAgICAgIDgwNDk5NS42NTIxOTMwMDAzODgzNjAuMTE3MjM3MDAwMTUuNDY4MzcyMDAwMDAwMCAgICAgICAgICAgICAgICAxMQ0KNjlUTUNPTVBPTkQyICAgICAgICA4MDUwMTYuOTE1MTQ5MDAwMzg4MzQ3LjMzNDI5ODAwMDE1LjM5ODc2NjAwMDAwMDAgICAgICAgICAgICAgICAgMTENCjY5VE1DT01QT05EMSAgICAgICAgODA1MDA4LjUyOTMyMDAwMDM4ODM1Mi40NzI3MjYwMDAxNS40OTgyNjUwMDAwMDAwICAgICAgICAgICAgICAgIDExDQo2OVRNQ09NUE9ORDYgICAgICAgIDgwNTAwNC4yNzk5MTgwMDAzODgzNTQuOTY1NDY1MDAwMTUuNDUyMzI2MDAwMDAwMCAgICAgICAgICAgICAgICAxMQ0KNjlUTUNPTVBPTkQzICAgICAgICA4MDUwMDQuMDI5OTA0MDAwMzg4MzI2LjM4NTc5ODAwMDE1LjI1OTcwMDAwMDAwMDAgICAgICAgICAgICAgICAgMTENCjY5VE1DT01QT05ENCAgICAgICAgODA0OTgyLjc0MTY1OTAwMDM4ODMzOC44MzkyODEwMDAxNS4yOTM0MjkwMDAwMDAwICAgICAgICAgICAgICAgIDExDQo2OVRNU09VVEggUElMTEFSICAgIDgwNDkyOC43NDk1NzUwMDAzODgzNjkuMzc4NjQ0MDAwMTYuMzg2NzYzMDAwMDAwMCAgICAgICAgICAgICAgICAxMQ0KNjlUTUZFTkNIICAgICAgICAgICA4MDUwNDcuNjQ3MzUzMDAwMzg4MjYzLjQxOTU0MDAwMDE1LjU0NDA5MTAwMDAwMDAgICAgICAgICAgICAgICAgMTENCjY5VE1XRVNUIFBJTExBUiAgICAgODA1MDE0LjQyMzE4MDAwMDM4ODI0OC42MTY0MjYwMDAxNi42MTE2NzAwMDAwMDAwICAgICAgICAgICAgICAgIDExDQo2OVRNUElQRSBQT1BMQVIgICAgIDgwNDkxMi45MjQxNzcwMDAzODgyMzIuMTM1NTM0MDAwMTUuMjA2ODY1MDAwMDAwMCAgICAgICAgICAgICAgICAxMQ0KNjlUTUZFTkNFMTIgICAgICAgICA4MDQ5MDQuNTAxMDg5MDAwMzg4MzU0LjA2Mjg2MjAwMDE0Ljk0MjQzMTAwMDAwMDAgICAgICAgICAgICAgICAgMTENCjY5VE1GRU5DRTExICAgICAgICAgODA0ODU0LjA1MjA1MTAwMDM4ODI1Ni41ODcxMzMwMDAxNS4xMTQ0MTYwMDAwMDAwICAgICAgICAgICAgICAgIDExDQo2OVRNRkVOQ0UxMCAgICAgICAgIDgwNDg1MC42MjI0MzAwMDAzODgyNTAuOTk2ODAzMDAwMTUuMTc0MjkyMDAwMDAwMCAgICAgICAgICAgICAgICAxMQ0KNjlUTVRST0YgICAgICAgICAgICA4MDQ4NDEuMjI2NTI3MDAwMzg4MjAwLjkwNDgwOTAwMDE1LjQ2MzU1ODAwMDAwMDAgICAgICAgICAgICAgICAgMTENCjY5VE1BVVRPMDAwOCAgICAgICAgODA0ODcyLjc0MjA5NTAwMDM4ODEzOC43NzA5NDQwMDAwLjAwMDAwMTAwMDAwMDAwICAgICAgICAgICAgICAgIDExDQo2OVRNQVVUTzAwMTAgICAgICAgIDgwNDg2NC45NjAyMzEwMDAzODgxNDUuODIzNjM5MDAwMC4wMDAwMDEwMDAwMDAwMCAgICAgICAgICAgICAgICAxMQ0KNjlUTUFVVE8wMDExICAgICAgICA4MDQ4NTcuMTc4MzY3MDAwMzg4MTUyLjg3NjMzNDAwMDAuMDAwMDAxMDAwMDAwMDAgICAgICAgICAgICAgICAgMTENCjY5VE1GRU5DSyAgICAgICAgICAgODA0ODEzLjU4ODQ1MDAwMDM4ODE5My44NTg5MTQwMDAxNS4wOTc1OTQwMDAwMDAwICAgICAgICAgICAgICAgIDExDQo2OVRNRkVOQ0ogICAgICAgICAgIDgwNDkxMy41MjQ3OTgwMDAzODgxMTIuNjI4OTg2MDAwMTUuMDUzNTgzMDAwMDAwMCAgICAgICAgICAgICAgICAxMQ0KNjlUTUZFTkNJICAgICAgICAgICA4MDQ5MTkuNDM3MzU3MDAwMzg4MTA2LjE4OTM1NTAwMDE1LjIyMzQ5ODAwMDAwMDAgICAgICAgICAgICAgICAgMTENCjY5VE1BVVRPMDAwNSAgICAgICAgODA0ODk4LjUxODgxNDAwMDM4ODExOC4zNDA3NDQwMDAwLjAwMDAwMTAwMDAwMDAwICAgICAgICAgICAgICAgIDExDQo2OVRNQVVUTzAwMDEgICAgICAgIDgwNDkxMi4zODA2MTAwMDAzODgxMDYuNDIzNTI5MDAwMC4wMDAwMDEwMDAwMDAwMCAgICAgICAgICAgICAgICAxMQ0KNjlUTUFVVE8wMDA0ICAgICAgICA4MDQ5MDYuMDU3NzU0MDAwMzg4MTEyLjc0NzExNDAwMDAuMDAwMDAxMDAwMDAwMDAgICAgICAgICAgICAgICAgMTENCjY5VE1BVVRPMDAwNiAgICAgICAgODA0ODg5LjAzNDg2MzAwMDM4ODEyNC45MDc1MjEwMDAwLjAwMDAwMTAwMDAwMDAwICAgICAgICAgICAgICAgIDExDQo2OVRNQVVUTzAwMDcgICAgICAgIDgwNDg4MC41MjQwNDMwMDAzODgxMzMuMTc2MzAwMDAwMC4wMDAwMDEwMDAwMDAwMCAgICAgICAgICAgICAgICAxMQ0KNjlUTUNocmlzdGNoICAgICAgICA4MDcxNTEuNDc1ODU3ODMwMzkyODM5Ljg3ODM4ODY5MDMzLjc2NjMyNDQ1NjgzNjAgICAgICAgICAgICAgICAgMTENCjY5VE1DQzUzICAgICAgICAgICAgODAyODcyLjY1MDAwMDAwMDM4NTAyMC42MzAwMDAwMDAyMC4xMDAwMDAwMDAwMDAwSVQgRFAxNjM4NiAgICAgIDExDQo4N1RNSVQgRFAxNjM4NiAgICAgICAgICANCjY5VE1DQzUzX0dOU1MgICAgICAgODAyODcyLjY1MDkwNjM0MDM4NTAyMC42ODY1NTE0MzAyMC4wNzgxMjA1OTg1MTkwICAgICAgICAgICAgICAgIDExDQo2OVRNQ0M1NCAgICAgICAgICAgIDgwMzAyNi40MjAwMDAwMDAzODYwMTguOTkwMDAwMDAwMTkuNzMwMDAwMDAwMDAwMElUIEkgU08zOTc2OTUgICAxMQ0KODdUTUlUIEkgU08zOTc2OTUgICAgICAgDQo2OVRNQ0M1NF9HTlNTICAgICAgIDgwMzAyNi40MTc3MDg1MDAzODYwMTguOTkxMzI4OTQwMTkuNzA5NDkzODc5Njg4MCAgICAgICAgICAgICAgICAxMQ0KNjlUTUNDNTUgICAgICAgICAgICA4MDI3NjguNDgwMDAwMDAwMzg2MjQxLjc1MDAwMDAwMDE3LjUzMDAwMDAwMDAwMDBNQSBJSUkgRFAzMzUzNjUgMTENCjg3VE1NQSBJSUkgRFAzMzUzNjUgICAgIA0KNjlUTUNDNTVfR05TUyAgICAgICA4MDI3NjguNDg4Njc4ODAwMzg2MjQxLjc0NzQ0NjA0MDE3LjUwNTE5Nzc4MTgzMTAgICAgICAgICAgICAgICAgMTENCjY5VE1DQzU3ICAgICAgICAgICAgODA0MTk3LjQzMDAwMDAwMDM4NzIxNi41NjAwMDAwMDAxNy42ODAwMDAwMDAwMDAwSVQgSSBEUCA4MzA0NCAgIDExDQo4N1RNSVQgSSBEUCA4MzA0NCAgICAgICANCjY5VE1DQzU3X0dOU1MgICAgICAgODA0MTk3LjQzMDYyNTQ1MDM4NzIxNi41NzA4OTk0ODAxNy42NjA2ODY2MTc2NjMwICAgICAgICAgICAgICAgIDExDQo2OVRNMTA1ICAgICAgICAgICAgIDgwNjQxNC4yNjIwMDAwMDAzOTA0MjUuMjgxMDAwMDAwMjQuNzc1MDAwMDAwMDAwMElUVkkgICAgICAgICAgICAxMQ0KODdUTUlUVkkgICAgICAgICAgICAgICAgDQo2OVRNQ0M1NiAgICAgICAgICAgIDgwMzM3Ny45MjAwMDAwMDAzODY2NTMuNzcwMDAwMDAwMTkuNTcwMDAwMDAwMDAwME1BIFggRFAzNTkxNzAgICAxMQ0KODdUTU1BIFggRFAzNTkxNzAgICAgICAgDQo2OVRNMTA2ICAgICAgICAgICAgIDgwNjQxMS45NzQwMDAwMDAzOTA0MDEuOTUyMDAwMDAwMjQuNzU5MDAwMDAwMDAwMElTVklJICAgICAgICAgICAxMQ0KODdUTUlTVklJICAgICAgICAgICAgICAgDQo2OVRNQ0MxNCAgICAgICAgICAgIDgwMzU4Ni44ODIwMDAwMDAzODUyOTQuNDI4MDAwMDAwMjEuNDAwMDAwMDAwMDAwMEJEVEQgICAgICAgICAgICAxMQ0KODdUTUJEVEQgICAgICAgICAgICAgICAgDQo2OVRNQ0MxMCAgICAgICAgICAgIDgwMzk0My41MzAwMDAwMDAzODY4NzMuMjU4MDAwMDAwMTguNjAwMDAwMDAwMDAwMEJEWUIgICAgICAgICAgICAxMQ0KODdUTUJEWUIgICAgICAgICAgICAgICAgDQo2OVRNQ0MxMF9HTlNTICAgICAgIDgwMzk0My41MjY3NzU3NTAzODY4NzMuMjUyOTM3NDUwMTguNzI1MzU0MDcwNzkzMElTVklJICAgICAgICAgICAxMQ0KODdUTUlTVklJICAgICAgICAgICAgICAgDQo2OVRNQ0MxOSAgICAgICAgICAgIDgwNTE3OC41ODUwMDAwMDAzODE3NDkuOTA2MDAwMDAwMzUuMDQ2MDAwMDAwMDAwMEI4N1UgICAgICAgICAgICAxMQ0KODdUTUI4N1UgICAgICAgICAgICAgICAgDQo2OVRNQ0MxOV9HTlNTICAgICAgIDgwNTE3OC41OTA2MzY1NTAzODE3NDkuOTA5NTc2NzIwMzUuMDYwNDUyODc0NTQ5MEI4N1UgICAgICAgICAgICAxMQ0KODdUTUI4N1UgICAgICAgICAgICAgICAgDQo2OVRNQ0M1MCAgICAgICAgICAgIDgwNDkzNS4yNTAwMDAwMDAzODIxNDcuNDcwMDAwMDAwMzIuOTUwMDAwMDAwMDAwMElUIFZJSSBTTzM4NzU2NyAxMQ0KODdUTUlUIFZJSSBTTzM4NzU2NyAgICAgDQo2OVRNQ0M1MF9HTlNTICAgICAgIDgwNDkzNS4yNTM2MTUwMDAzODIxNDcuNDM4NTI0MTAwMzIuODcxNjkyODc1MjIyMCAgICAgICAgICAgICAgICAxMQ0KNjlUTUNDNTEgICAgICAgICAgICA4MDQ1OTguMTEwMDAwMDAwMzgzMTc3LjQ4MDAwMDAwMDMwLjE0MDAwMDAwMDAwMDBJUyBWSUkgRFA2OTM5NSAgMTENCjg3VE1JUyBWSUkgRFA2OTM5NSAgICAgIA0KNjlUTUNDNTFfR05TUyAgICAgICA4MDQ1OTguMTEwNjk4NjUwMzgzMTc3LjQ3OTk1NTc2MDMwLjE0OTk4OTE1NjQyOTAgICAgICAgICAgICAgICAgMTENCjY5VE1DQzE4ICAgICAgICAgICAgODA0NDczLjQ3NDAwMDAwMDM4Mjc2Ny4zNTQwMDAwMDAzMC4yMDAwMDAwMDAwMDAwQkRUQSAgICAgICAgICAgIDExDQo4N1RNQkRUQSAgICAgICAgICAgICAgICANCjY5VE1DQzE4X0dOU1MgICAgICAgODA0NDczLjQ1NDIxNjM5MDM4Mjc2Ny4zNTk2OTcyNDAzMC4zMjI5ODEzOTAwODYwICAgICAgICAgICAgICAgIDExDQo2OVRNQ0M1MiAgICAgICAgICAgIDgwMzQ1OC4xMTAwMDAwMDAzODQwNDIuNzAwMDAwMDAwMjIuODEwMDAwMDAwMDAwMElTIFNPODUzNyAgICAgICAxMQ0KODdUTUlTIFNPODUzNyAgICAgICAgICAgDQo2OVRNQ0M1Ml9HTlNTICAgICAgIDgwMzQ1OC4xMTY3OTY4OTAzODQwNDIuNzA4MTI0NzQwMjIuNzc3MzAwMjg3NDY0MCAgICAgICAgICAgICAgICAxMQ0KNjlUTUNDMTUgICAgICAgICAgICA4MDMxODUuNjgzMDAwMDAwMzgzOTcwLjUzODAwMDAwMDIzLjUwMDAwMDAwMDAwMDBCRFRDICAgICAgICAgICAgMTENCjg3VE1CRFRDICAgICAgICAgICAgICAgIA0KNjlUTUNDMTVfR05TUyAgICAgICA4MDMxODUuNjc1MDc1MzkwMzgzOTcwLjUzODMyMzE3MDIzLjY2NjE0NTU3OTYzMzAgICAgICAgICAgICAgICAgMTENCjY5VE1DQzEyICAgICAgICAgICAgODAyNDI0LjQ2NDAwMDAwMDM4NjY4OS4wMDYwMDAwMDAxNi4xMDAwMDAwMDAwMDAwQkRURiAgICAgICAgICAgIDExDQo4N1RNQkRURiAgICAgICAgICAgICAgICANCjY5VE1DQzggICAgICAgICAgICAgODA0MTAzLjA2NTAwMDAwMDM4ODI1Ni41ODcwMDAwMDAxNi4wMDAwMDAwMDAwMDAwQ01XMCBhc20gICAgICAgIDExDQo4N1RNQ01XMCBhc20gICAgICAgICAgICANCjY5VE1DQzhfR05TUyAgICAgICAgODA0MTAzLjA3ODYxMjA0MDM4ODI1Ni41ODQyOTMwODAxNS4zMzMxNTQzMTU3NTUwICAgICAgICAgICAgICAgIDExDQo2OVRNQ0M1OCAgICAgICAgICAgIDgwNDkwOC40NDAwMDAwMDAzODg2MDQuMjgwMDAwMDAwMTUuNzgwMDAwMDAwMDAwMElTIFggU08xNTY0MyAgICAxMQ0KODdUTUlTIFggU08xNTY0MyAgICAgICAgDQo2OVRNQ0M1OF9HTlNTICAgICAgIDgwNDkwOC40MzgxNDg2NTAzODg2MDQuMjkxNTcwOTEwMTUuNzg2ODYxMjQwODkyMCAgICAgICAgICAgICAgICAxMQ0KNjlUTUNDNyAgICAgICAgICAgICA4MDQ5OTIuNTA5MDAwMDAwMzg4NTM1LjgyMjAwMDAwMDE1LjcwMDAwMDAwMDAwMDBCRFRWICAgICAgICAgICAgMTENCjg3VE1CRFRWICAgICAgICAgICAgICAgIA0KNjlUTUNDN19HTlNTICAgICAgICA4MDQ5OTIuNTAyMTE0MjIwMzg4NTM1LjgxNDU4MDMyMDE1Ljg4ODk2NDI4NjI0NDAgICAgICAgICAgICAgICAgMTENCjY5VE1DQzUgICAgICAgICAgICAgODA0ODEzLjYyMzAwMDAwMDM4OTc0Ny43MjkwMDAwMDAyMC41MzQwMDAwMDAwMDAwQjFFMyAgICAgICAgICAgIDExDQo4N1RNQjFFMyAgICAgICAgICAgICAgICANCjY5VE1DQzVfR05TUyAgICAgICAgODA0ODEzLjYxOTMyNTM4MDM4OTc0Ny43MzYwMTU3OTAyMC40ODI5MTA1NDE3NzcwICAgICAgICAgICAgICAgIDExDQo2OVRNQ0M1OSAgICAgICAgICAgIDgwNDgxNS45NjAwMDAwMDAzODk1NzQuMDcwMDAwMDAwMTQuNjQwMDAwMDAwMDAwMFNTIDExMDkgICAgICAgICAxMQ0KODdUTVNTIDExMDkgICAgICAgICAgICAgDQo2OVRNQ0MxICAgICAgICAgICAgIDgwNDc2OS42MjkwMDAwMDAzOTI2OTUuNjkyMDAwMDAwNy4xMTMwMDAwMDAwMDAwMEFGMlEgICAgICAgICAgICAxMQ0KODdUTUFGMlEgICAgICAgICAgICAgICAgDQo2OVRNQ0MyICAgICAgICAgICAgIDgwNDc5Ny4zMzQwMDAwMDAzOTExMzQuNTcxMDAwMDAwMTIuMDAwMDAwMDAwMDAwMENNWTggYXNtICAgICAgICAxMQ0KODdUTUNNWTggYXNtICAgICAgICAgICAgDQo2OVRNQ0MyX0dOU1MgICAgICAgIDgwNDc5Ny4zMjQ1OTI3OTAzOTExMzQuNTcxNDI4ODIwMTEuNTQ5MDA3MzAwNTk0MFNTIDExMDkgICAgICAgICAxMQ0KODdUTVNTIDExMDkgICAgICAgICAgICAgDQo2OVRNQ0M2MCAgICAgICAgICAgIDgwNDY0Mi44MzAwMDAwMDAzOTA0OTIuNTIwMDAwMDAwMjAuMTgwMDAwMDAwMDAwMFNTIDgxNiAgICAgICAgICAxMQ0KODdUTVNTIDgxNiAgICAgICAgICAgICAgDQo2OVRNQ0M0ICAgICAgICAgICAgIDgwNDY0Ny44MDkwMDAwMDAzOTA0ODguNDU4MDAwMDAwMTEuMTAwMDAwMDAwMDAwMEJEVTMgICAgICAgICAgICAxMQ0KODdUTUJEVTMgICAgICAgICAgICAgICAgDQo2OVRNQ0M0X0dOU1MgICAgICAgIDgwNDY0Ny44MTEwMjk0MzAzOTA0ODguNDQ1NDA1ODEwMTEuMzA2ODc1NTY4MTY1MFNTIDgxNiAgICAgICAgICAxMQ0KODdUTVNTIDgxNiAgICAgICAgICAgICAgDQo2OVRNQ0MzICAgICAgICAgICAgIDgwNTE1My4zMDUwMDAwMDAzOTA2MTEuNDkzMDAwMDAwMTIuMDAwMDAwMDAwMDAwMEJIUUQgYXNtICAgICAgICAxMQ0KODdUTUJIUUQgYXNtICAgICAgICAgICAgDQo2OVRNY2MyMDAgICAgICAgICAgIDc5OTAxMS42ODIwMDAwMDAzODY4MTYuOTE0MDAwMDAwMjkuNzg1MDAwMDAwMDAwMEE1NzYgICAgICAgICAgICAxMg0KODdUTUE1NzYgICAgICAgICAgICAgICAgDQo2OVRNY2MyMDEgICAgICAgICAgIDgwMjI0NC40NTIwMDAwMDAzODg5OTMuMTAzMDAwMDAwOS44OTcwMDAwMDAwMDAwMEE1NmYgICAgICAgICAgICAxMg0KODdUTUE1NmYgICAgICAgICAgICAgICAgDQo2OVRNY2MyMDIgICAgICAgICAgIDgwNTIxNS41NjAwMDAwMDAzODUzNDMuMzk0MDAwMDAwMjIuNzY5MDAwMDAwMDAwMEFGM0wgICAgICAgICAgICAxMg0KODdUTUFGM0wgICAgICAgICAgICAgICAgDQo2OVRNY2MyMDMgICAgICAgICAgIDgwNTY3NS45NjcwMDAwMDAzODU5ODEuOTExMDAwMDAwMjEuOTg3MDAwMDAwMDAwMEFGM2sgICAgICAgICAgICAxMg0KODdUTUFGM2sgICAgICAgICAgICAgICAgDQo2OVRNY2MyMDBfR05TUyAgICAgIDc5OTAxMS42NzA1NTgwNTAzODY4MTYuODk1MDUwMjUwMjkuODAxNDEwODgxNzY1MCAgICAgICAgICAgICAgICAxMQ0KNjlUTWNjMjAxX0dOU1MgICAgICA4MDIyNDQuNDk0NjI3NDUwMzg4OTkzLjE3ODcwOTA0MDEwLjAzMTY2NzIzMTcxODAgICAgICAgICAgICAgICAgMTENCjY5VE1DQzExICAgICAgICAgICAgODAyNDg0Ljk3NzAwMDAwMDM4NTc4MC4yODIwMDAwMDAxOC4wMDAwMDAwMDAwMDAwQ01VMCBhc20gICAgICAgIDExDQo4N1RNQ01VMCBhc20gICAgICAgICAgICANCjY5VE1jYzIwM19HTlNTICAgICAgODA1Njc1Ljk2MDE0NDk2MDM4NTk4MS44OTg5MjIzMTAyMS45ODk1MDQxMTA5NDEwICAgICAgICAgICAgICAgIDExDQo2OVRNY2MzMDAgICAgICAgICAgIDgwNDMzMS43MTg1Mjk3NDAzOTEyMDQuNzcyOTc4NzQwMTAuMTc2ODkzMjcxNjE4MGJtIDMwNTYgICAgICAgICAxMQ0KODdUTWJtIDMwNTYgICAgICAgICAgICAgDQo2OVRNNTAwICAgICAgICAgICAgIDgwNTI0MC45MDk5NjM1MDAzOTA3MTIuMzM4NzQ1MDgwMTIuMTE5MjM2NjQyMjI0MG1jY3MgICAgICAgICAgICAxMQ0KODdUTW1jY3MgICAgICAgICAgICAgICAgDQo2OVRNY2MyMDUgICAgICAgICAgIDgwNTI0MC45MDAwMDAwMDAzOTA3MTIuMzMwMDAwMDAwMTIuMTEwMDAwMDAwMDAwMGJtIG1jY3MgICAgICAgICAxMg0KODdUTWJtIG1jY3MgICAgICAgICAgICAgDQo2OVRNY2MyMDVfR05TUyAgICAgIDgwNTI0MC45MTE2NDc1NTAzOTA3MTIuMzM4ODkyOTUwMTIuMTE0MTM0MDQ2OTc2MGJtIG1jY3MgICAgICAgICAxMQ0KODdUTWJtIG1jY3MgICAgICAgICAgICAgDQo2OVRNNTAxICAgICAgICAgICAgIDgwNDQ5Ny44MTc3NzE3NjAzODk4MzYuODM1OTIwMjgwMTIuNDA1NDcxNjM1NjY0MGJtIDMxMTMgICAgICAgICAxMQ0KODdUTWJtIDMxMTMgICAgICAgICAgICAgDQo2OVRNY2MyMDYgICAgICAgICAgIDgwNDQ5Ny44MTAwMDAwMDAzODk4MzYuODMwMDAwMDAwMTIuMzk5MDAwMDAwMDAwMGJtIDMxMTMgICAgICAgICAxMg0KODdUTWJtIDMxMTMgICAgICAgICAgICAgDQo2OVRNY2MyMDZfR05TUyAgICAgIDgwNDQ5Ny44MjQ5MDgxNzAzODk4MzYuODMzMDQzNDQwMTIuNDA3OTY1MjU5MzM3MGJtIDMxMTMgICAgICAgICAxMQ0KODdUTWJtIDMxMTMgICAgICAgICAgICAgDQo2OVRNMzAwX2NjYyAgICAgICAgIDgwNDMzMS43MDAwMDAwMDAzOTEyMDQuODAwMDAwMDAwMTAuMTY0MDAwMDAwMDAwMGJtMzA1NiAgICAgICAgICAxMg0KODdUTWJtMzA1NiAgICAgICAgICAgICAgDQo2OVRNQ0MxX0dOU1MgICAgICAgIDgwNDc2OS41Nzk1MjEzMDAzOTI2OTUuNzEzMjAzMzIwNy4xMTA3NzYyMzAxNDUzMCAgICAgICAgICAgICAgICAxMQ0K";

      var request = new CoordinateSystemFile(
        new Guid("ff91dd40-1569-4765-a2bc-014321f76ace"),
        //Encoding.ASCII.GetBytes(DIMENSIONS_2012_DC_CSIB),
        Convert.FromBase64String(DIMENSIONS_2012_DC_CSIB),
        "BootCamp_2012.dc");

      request.Validate();

      return WithServiceExceptionTryExecute(() =>
        RequestExecutorContainer
          .Build<CoordinateSystemPostExecutor>(ConfigStore, LoggerFactory, ServiceExceptionHandler)
          .Process(request) as CoordinateSystemSettings);
    }
  }
}
